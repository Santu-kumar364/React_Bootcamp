{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SANTU KUMAR\\\\react_bootcamp\\\\chap5\\\\src\\\\context\\\\DataContext.js\",\n  _s = $RefreshSig$();\nimport { format } from \"date-fns\";\nimport { createContext, useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport api from \"../api/url\";\nimport useWindowSize from \"../hooks/useWindowSize\";\nimport useAxiosFetch from \"../hooks/useAxiosFetch\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DataContext = /*#__PURE__*/createContext();\nexport const DataProvider = ({\n  children\n}) => {\n  _s();\n  const [posts, setPosts] = useState([]);\n  const [search, setSearch] = useState('');\n  const [searchResult, setSearchResult] = useState([]);\n  const [postTitle, setPostTitle] = useState('');\n  const [postBody, setPostBody] = useState('');\n  const [editTitle, setEditTitle] = useState('');\n  const [editBody, setEditBody] = useState('');\n  const navigate = useNavigate();\n  const {\n    width\n  } = useWindowSize();\n  const {\n    data,\n    fetchError,\n    isLoading\n  } = useAxiosFetch(api);\n  useEffect(() => {\n    setPosts(data);\n  }, [data]);\n  useEffect(() => {\n    const filteredResults = posts.filter(post => post.body.toLowerCase().includes(search.toLowerCase()) || post.title.toLowerCase().includes(search.toLowerCase()));\n    setSearchResult(filteredResults.reverse());\n  }, [posts, search]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const id = posts.length ? posts[posts.length - 1].id + 1 : 1;\n    const datetime = format(new Date(), 'MMMM dd, yyyy pp');\n    const newPost = {\n      id,\n      title: postTitle,\n      datetime,\n      body: postBody\n    };\n    try {\n      const response = await axios.post(api, newPost);\n      setPosts([...posts, response.data]);\n      setPostTitle('');\n      setPostBody('');\n      navigate('/');\n    } catch (err) {\n      console.error(`Error: ${err.message}`);\n    }\n  };\n  const handleEdit = async id => {\n    const datetime = format(new Date(), 'MMMM dd, yyyy pp');\n    const updatedPost = {\n      id,\n      title: editTitle,\n      datetime,\n      body: editBody\n    };\n    try {\n      const response = await axios.put(`${api}/${id}`, updatedPost);\n      setPosts(posts.map(post => post.id === id ? response.data : post));\n      setEditTitle('');\n      setEditBody('');\n      navigate('/');\n    } catch (err) {\n      console.error(`Error: ${err.message}`);\n    }\n  };\n  const handleDelete = async id => {\n    try {\n      await axios.delete(`${api}/${id}`);\n      setPosts(posts.filter(post => post.id !== id));\n      navigate('/');\n    } catch (err) {\n      console.error(`Error: ${err.message}`);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(DataContext.Provider, {\n    value: {\n      width,\n      search,\n      setSearch,\n      fetchError,\n      searchResult,\n      isLoading,\n      handleDelete,\n      handleSubmit,\n      postTitle,\n      postBody,\n      setPostTitle,\n      setPostBody,\n      posts,\n      editTitle,\n      setEditTitle,\n      editBody,\n      setEditBody,\n      handleEdit\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 9\n  }, this);\n};\n_s(DataProvider, \"MVpc473ce0YU2S5ycHd2kU61snA=\", false, function () {\n  return [useNavigate, useWindowSize, useAxiosFetch];\n});\n_c = DataProvider;\nexport default DataContext;\nvar _c;\n$RefreshReg$(_c, \"DataProvider\");","map":{"version":3,"names":["format","createContext","useState","useEffect","useNavigate","axios","api","useWindowSize","useAxiosFetch","jsxDEV","_jsxDEV","DataContext","DataProvider","children","_s","posts","setPosts","search","setSearch","searchResult","setSearchResult","postTitle","setPostTitle","postBody","setPostBody","editTitle","setEditTitle","editBody","setEditBody","navigate","width","data","fetchError","isLoading","filteredResults","filter","post","body","toLowerCase","includes","title","reverse","handleSubmit","e","preventDefault","id","length","datetime","Date","newPost","response","err","console","error","message","handleEdit","updatedPost","put","map","handleDelete","delete","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/SANTU KUMAR/react_bootcamp/chap5/src/context/DataContext.js"],"sourcesContent":["import { format } from \"date-fns\";\r\nimport { createContext, useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport api from \"../api/url\";\r\nimport useWindowSize from \"../hooks/useWindowSize\";\r\nimport useAxiosFetch from \"../hooks/useAxiosFetch\";\r\n\r\nconst DataContext = createContext();\r\n\r\nexport const DataProvider = ({ children }) => {\r\n    const [posts, setPosts] = useState([]);\r\n    const [search, setSearch] = useState('');\r\n    const [searchResult, setSearchResult] = useState([]);\r\n    const [postTitle, setPostTitle] = useState('');\r\n    const [postBody, setPostBody] = useState('');\r\n    const [editTitle, setEditTitle] = useState('');\r\n    const [editBody, setEditBody] = useState('');\r\n\r\n    const navigate = useNavigate();\r\n    const { width } = useWindowSize();\r\n    const { data, fetchError, isLoading } = useAxiosFetch(api);\r\n\r\n    useEffect(() => {\r\n        setPosts(data);\r\n    }, [data]);\r\n\r\n    useEffect(() => {\r\n        const filteredResults = posts.filter(post =>\r\n            post.body.toLowerCase().includes(search.toLowerCase()) ||\r\n            post.title.toLowerCase().includes(search.toLowerCase())\r\n        );\r\n        setSearchResult(filteredResults.reverse());\r\n    }, [posts, search]);\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        const id = posts.length ? posts[posts.length - 1].id + 1 : 1;\r\n        const datetime = format(new Date(), 'MMMM dd, yyyy pp');\r\n        const newPost = { id, title: postTitle, datetime, body: postBody };\r\n        try {\r\n            const response = await axios.post(api, newPost);\r\n            setPosts([...posts, response.data]);\r\n            setPostTitle('');\r\n            setPostBody('');\r\n            navigate('/');\r\n        } catch (err) {\r\n            console.error(`Error: ${err.message}`);\r\n        }\r\n    };\r\n\r\n    const handleEdit = async (id) => {\r\n        const datetime = format(new Date(), 'MMMM dd, yyyy pp');\r\n        const updatedPost = { id, title: editTitle, datetime, body: editBody };\r\n        try {\r\n            const response = await axios.put(`${api}/${id}`, updatedPost);\r\n            setPosts(posts.map(post => post.id === id ? response.data : post));\r\n            setEditTitle('');\r\n            setEditBody('');\r\n            navigate('/');\r\n        } catch (err) {\r\n            console.error(`Error: ${err.message}`);\r\n        }\r\n    };\r\n\r\n    const handleDelete = async (id) => {\r\n        try {\r\n            await axios.delete(`${api}/${id}`);\r\n            setPosts(posts.filter(post => post.id !== id));\r\n            navigate('/');\r\n        } catch (err) {\r\n            console.error(`Error: ${err.message}`);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <DataContext.Provider value={{\r\n            width, search, setSearch, fetchError, searchResult, isLoading,\r\n            handleDelete, handleSubmit, postTitle, postBody, setPostTitle,\r\n            setPostBody, posts, editTitle, setEditTitle, editBody, setEditBody, handleEdit\r\n        }}>\r\n            {children}\r\n        </DataContext.Provider>\r\n    );\r\n};\r\n\r\nexport default DataContext;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}